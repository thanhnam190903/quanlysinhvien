<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/layout/head :: head"></head>
<body>
<div th:replace="admin/layout/header :: header"></div>
<div class="container-fluid p-0">
    <div class="row m-0">
        <div th:replace="admin/layout/navbar :: navbar"></div>
        <div class="col-md-9 col-lg-9 main-content">
            <div class="content-header">
                <h2>Danh sách lớp học</h2>
            </div>

            <div class="search-container">
                <form method="get" th:action="@{/teacher/class-teacher}">
                    <input type="text"
                           name="keyword"
                           class="search-input"
                           placeholder="Tìm kiếm lớp học..."
                           th:value="${keyword}">
                    <button class="btn-search" type="submit">Tìm</button>
                </form>
            </div>

            <div class="table-container">
                <div th:if="${successMessage}" class="alert alert-success">
                    <span th:text="${successMessage}"></span>
                </div>
                <table class="table">
                    <thead>
                    <tr>
                        <th>STT</th>
                        <th>Tên lớp</th>
                        <th>Khoa</th>
                        <th>Trạng thái</th>
                        <th>Thao tác</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="cl,iterStat : ${classList}">
                        <td th:text="${iterStat.index + 1}"></td>
                        <td th:text="${cl.name}"></td>
                        <td th:text="${cl.department.name}"></td>
                        <td th:if="${cl.status}" style="color: red; font-weight: bold;">Tạm dừng</td>
                        <td th:if="${!cl.status}" style="color: green;  font-weight: bold;">Hoạt động</td>
                        <td>
                            <div class="action-icons">
                                <div class="action-icons">
                                    <a class="text-success" th:href="@{/teacher/student-class(classId=${cl.id})}"><i class="far fa-eye"></i></a>
                                </div>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div th:if="${classList.totalPages > 0}" style="float: right;">
                    <ul class="pagination pagination-sm no-margin pull-right">
                        <!-- Prev -->
                        <li class="page-item" th:classappend="${classList.first} ? 'disabled'">
                            <a class="page-link"
                               th:href="@{/teacher/class-teacher(page=${classList.number - 1}, keyword=${keyword ?: ''})}">
                                &laquo;
                            </a>
                        </li>

                        <!-- Pages -->
                        <li class="page-item"
                            th:each="i : ${#numbers.sequence(0, classList.totalPages - 1)}"
                            th:classappend="${i == classList.number} ? 'active'">
                            <a class="page-link"
                               th:text="${i + 1}"
                               th:href="@{/teacher/class-teacher(page=${i}, keyword=${keyword ?: ''})}"></a>
                        </li>

                        <!-- Next -->
                        <li class="page-item" th:classappend="${classList.last} ? 'disabled'">
                            <a class="page-link"
                               th:href="@{/teacher/class-teacher(page=${classList.number + 1}, keyword=${keyword ?: ''})}">
                                &raquo;
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

</div>
<!-- Bootstrap Bundle JS (đã bao gồm Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>